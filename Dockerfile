FROM node:20

WORKDIR /usr/home/src
COPY package*.json .
RUN npm install

COPY . .

EXPOSE 3000

ARG DB_USER_NAME
ARG DB_PASSWORD
ARG DB_HOST
ARG DB_PORT
ARG DB_NAME

ENV DB_USER_NAME $DB_USER_NAME
ENV DB_PASSWORD $DB_PASSWORD
ENV DB_HOST $DB_HOST
ENV DB_PORT $DB_PORT
ENV DB_NAME $DB_NAME

CMD ["npm", "run", "dev"]
